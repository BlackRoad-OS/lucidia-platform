name: Stale Issue Management

on:
  schedule:
    - cron: '0 0 * * *'  # Daily at midnight
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    name: Mark Stale Issues
    runs-on: ubuntu-latest

    steps:
      - name: Stale issue handler
        uses: actions/stale@28ca1036281a5e5922ead5184a1bbf96e5fc984e # v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          stale-issue-message: |
            This issue has been automatically marked as stale because it has not had recent activity.
            It will be closed if no further activity occurs.

            Thank you for your contributions to BlackRoad OS! ðŸš€
          stale-pr-message: |
            This pull request has been automatically marked as stale because it has not had recent activity.
            It will be closed if no further activity occurs.

            Please rebase and resolve conflicts if you'd like to continue with this PR.
          close-issue-message: |
            This issue was automatically closed because it has been stale for too long.
            If you believe this issue should be reopened, please comment and we'll review it.
          close-pr-message: |
            This pull request was automatically closed due to inactivity.
            Feel free to reopen when you're ready to continue.
          days-before-stale: 60
          days-before-close: 14
          stale-issue-label: 'status/stale'
          stale-pr-label: 'status/stale'
          exempt-issue-labels: 'status/pinned,status/in-progress,priority/critical'
          exempt-pr-labels: 'status/in-review,status/blocked'
